<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Isle's Echo Shop</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f5f5f5; }
    header {
      background: #265f3f;
      color: white;
      padding: 15px 30px;
      display: flex; justify-content: space-between; align-items: center;
    }
    .currency-select {
      padding: 5px; border-radius: 5px; border: none; font-size: 16px;
    }
    .shop {
      display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 20px;
    }
    .card {
      background: white; padding: 15px; width: 200px; text-align: center;
      border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: transform 0.2s;
    }
    .card:hover { transform: translateY(-5px); }
    .buy-btn {
      margin-top: 10px; padding: 6px 12px; border: none;
      background: #265f3f; color: white; border-radius: 6px;
      cursor: pointer; font-size: 14px;
    }
  </style>
</head>
<body>

<header>
  <h1>ISLE'S ECHO SHOP</h1>
  <select id="currency" class="currency-select">
    <option value="RUB">RUB</option>
    <option value="UAH">UAH</option>
    <option value="USD">USD</option>
  </select>
</header>

<div class="shop" id="shop"></div>

<script>
  const shop = document.getElementById("shop");
  const currencySelect = document.getElementById("currency");
  const dinos = [
    { name: "Rex", price: 1500 },
    { name: "Utah", price: 1200 },
    { name: "Allo", price: 1300 },
    { name: "Antro", price: 1000 },
    { name: "Cera", price: 1100 },
    { name: "Giga", price: 1700 },
    { name: "Spino", price: 2000 }
  ];
  let rates = { UAH: 0.42, USD: 0.011 };

  async function fetchRates() {
    try {
      const res = await fetch("https://api.exchangerate.host/latest?base=RUB&symbols=UAH,USD");
      const data = await res.json();
      rates = {
        UAH: data.rates.UAH,
        USD: data.rates.USD
      };
    } catch (err) {
      console.error("Ошибка при получении курса:", err);
    }
  }

  function renderShop() {
    shop.innerHTML = "";
    const cur = currencySelect.value;
    dinos.forEach(d => {
      const converted = (d.price * (cur === "RUB" ? 1 : rates[cur])).toFixed(2);
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <h3>${d.name}</h3>
        <p><strong>${converted} ${cur}</strong></p>
        <button class="buy-btn">Купить</button>
      `;
      shop.appendChild(card);
    });
  }

  currencySelect.addEventListener("change", renderShop);

  // Загружаем курсы, затем рендер сайта
  fetchRates().then(renderShop);
</script>

</body>
</html>
